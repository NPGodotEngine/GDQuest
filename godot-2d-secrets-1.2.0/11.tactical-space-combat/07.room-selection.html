<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>&#39;room selection&#39;</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="data:text/css,%3Aroot%20%7B%2D%2Dcolor%2Dcaption%3A%20grey%3B%2D%2Dcolor%2Dblue%3A%20%2326bfe3%3B%2D%2Dcolor%2Dgreen%3A%20%2302e180%3B%2D%2Dcolor%2Dorange%3A%20%23f2971a%3B%2D%2Dcolor%2Dpink%3A%20%23e3266f%3B%2D%2Dcolor%2Dbg%3A%20%23fff%3B%2D%2Dcolor%2Dbg%2Dalt%3A%20%23f5f5f5%3B%2D%2Dcolor%2Dtext%2Dheader%3A%20%23fff%3B%2D%2Dcolor%2Dtext%2Dbody%3A%20%2395989a%3B%2D%2Dpadding%3A%2020px%3B%2D%2Dpadding%2Dinv%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dpadding%29%29%3B%2D%2Dfonts%3A%20%27Open%20Sans%27%2C%20%2Dapple%2Dsystem%2C%20system%2Dui%2C%20%27Segoe%20UI%27%2C%20%27Roboto%27%2C%27Helvetica%20Neue%27%2C%20Arial%2C%20sans%2Dserif%3B%2D%2Dfont%2Dsize%3A%201%2E1rem%3B%7Dhtml%20%7Bfont%2Dsize%3A%20100%25%3B%7Dbody%20%7Bcolor%3A%20%23444%3Bfont%2Dfamily%3A%20var%28%2D%2Dfonts%29%3Bfont%2Dsize%3A%20var%28%2D%2Dfont%2Dsize%29%3Bline%2Dheight%3A%201%2E7%3Bpadding%3A%201em%3Bmargin%3A%20auto%3Bmax%2Dwidth%3A%20800px%3Bbackground%3A%20%23fefefe%3B%7Da%20%7Bcolor%3A%20%230645ad%3Btext%2Ddecoration%3A%20none%3B%7Da%3Avisited%20%7Bcolor%3A%20%230b0080%3B%7Da%3Ahover%20%7Bcolor%3A%20%2306e%3B%7Da%3Aactive%20%7Bcolor%3A%20%23faa700%3B%7Da%3Afocus%20%7Boutline%3A%20thin%20dotted%3B%7Da%3A%3Aselection%20%7Bbackground%3A%20rgba%28255%2C%20255%2C%200%2C%200%2E3%29%3Bcolor%3A%20%230645ad%3B%7D%2A%3A%3Aselection%20%7Bbackground%3A%20rgba%28255%2C%20255%2C%200%2C%200%2E3%29%3Bcolor%3A%20%23000%3B%7Dp%20%7Bmargin%3A%201em%200%3B%7D%2Ecaption%20%7Btext%2Dalign%3A%20center%3Bcolor%3A%20var%28%2D%2Dcolor%2Dcaption%29%3Bfont%2Dstyle%3A%20italic%3B%7D%2Enote%2C%2Etips%2C%2Ewarning%20%7Bdisplay%3A%20block%3Bwidth%3A%20calc%28100%25%20%2D%20var%28%2D%2Dpadding%29%20%2A%202%29%3Bpadding%3A%200%20var%28%2D%2Dpadding%29%3Bpadding%2Dbottom%3A%20var%28%2D%2Dpadding%29%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dbg%2Dalt%29%3B%7D%2Enote%3Abefore%2C%2Etips%3Abefore%2C%2Ewarning%3Abefore%20%7Bdisplay%3A%20block%3Bmargin%3A%200%20var%28%2D%2Dpadding%2Dinv%29%2010px%20var%28%2D%2Dpadding%2Dinv%29%3Bpadding%2Dleft%3A%20var%28%2D%2Dpadding%29%3Bfont%2Dstyle%3A%20bold%3Bcolor%3A%20white%3B%7D%2Enote%3Abefore%20%7Bcontent%3A%20%27Note%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7D%2Etips%3Abefore%20%7Bcontent%3A%20%27Tips%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dpink%29%3B%7D%2Ewarning%3Abefore%20%7Bcontent%3A%20%27Warning%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dorange%29%3B%7Dimg%20%7Bmax%2Dwidth%3A%20100%25%3B%7Dh1%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%20%7Bcolor%3A%20%23111%3Bline%2Dheight%3A%20125%25%3Bmargin%2Dtop%3A%202em%3Bfont%2Dweight%3A%20normal%3B%7Dh4%2Ch5%2Ch6%20%7Bfont%2Dweight%3A%20bold%3B%7Dh1%20%7Bfont%2Dsize%3A%202%2E5em%3B%7Dh2%20%7Bfont%2Dsize%3A%202em%3B%7Dh3%20%7Bfont%2Dsize%3A%201%2E5em%3B%7Dh4%20%7Bfont%2Dsize%3A%201%2E2em%3B%7Dblockquote%20%7Bcolor%3A%20%23666666%3Bmargin%3A%200%3Bpadding%2Dleft%3A%203em%3Bborder%2Dleft%3A%200%2E5em%20%23eee%20solid%3B%7Dhr%20%7Bdisplay%3A%20block%3Bheight%3A%202px%3Bborder%3A%200%3Bborder%2Dtop%3A%201px%20solid%20%23aaa%3Bborder%2Dbottom%3A%201px%20solid%20%23eee%3Bmargin%3A%201em%200%3Bpadding%3A%200%3B%7Dpre%2Ccode%2Ckbd%2Csamp%20%7Bcolor%3A%20%230084b8%3Bfont%2Dfamily%3A%20monospace%2C%20monospace%3B%7Dpre%20%7Bpadding%3A%201em%3Bfont%2Dsize%3A%2014px%3Bwhite%2Dspace%3A%20pre%2Dwrap%3Bword%2Dwrap%3A%20break%2Dword%3B%7Dcode%20%7Bwhite%2Dspace%3A%20pre%2Dwrap%3B%7Db%2Cstrong%20%7Bfont%2Dweight%3A%20bold%3B%7Ddfn%20%7Bfont%2Dstyle%3A%20italic%3Bcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7Dins%20%7Bbackground%3A%20%23ff9%3Bcolor%3A%20%23000%3Btext%2Ddecoration%3A%20none%3B%7Dul%2Col%20%7Bmargin%3A%201em%200%3Bpadding%3A%200%200%200%202em%3B%7Dli%20p%3Alast%2Dchild%20%7Bmargin%2Dbottom%3A%200%3B%7Dul%20ul%2Col%20ol%20%7Bmargin%3A%200%2E3em%200%3B%7Ddl%20%7Bmargin%2Dbottom%3A%201em%3B%7Ddt%20%7Bfont%2Dweight%3A%20bold%3Bmargin%2Dbottom%3A%200%2E8em%3B%7Ddd%20%7Bmargin%3A%200%200%200%2E8em%202em%3B%7Ddd%3Alast%2Dchild%20%7Bmargin%2Dbottom%3A%200%3B%7Dimg%20%7Bborder%3A%200%3B%2Dms%2Dinterpolation%2Dmode%3A%20bicubic%3Bvertical%2Dalign%3A%20middle%3B%7Dfigure%20%7Bdisplay%3A%20block%3Btext%2Dalign%3A%20center%3Bmargin%3A%201em%200%3B%7Dfigure%20img%20%7Bborder%3A%20none%3Bmargin%3A%200%20auto%3B%7Dfigcaption%20%7Bfont%2Dsize%3A%200%2E8em%3Bfont%2Dstyle%3A%20italic%3Bmargin%3A%200%200%200%2E8em%3B%7D%2Eauthor%20%7Bfont%2Dsize%3A%201%2E2em%3Btext%2Dalign%3A%20center%3B%7Dtag%20%7Bmin%2Dwidth%3A%203%2E2em%3Btext%2Dalign%3A%20center%3Bborder%2Dradius%3A%208px%3Bpadding%3A%200%204px%3Bmargin%2Dbottom%3A%200%3Bmargin%2Dtop%3A%204px%3Bmargin%2Dright%3A%200%2E2em%3Bdisplay%3A%20inline%2Dblock%3Bcolor%3A%20white%3B%7Dtag%2Eupdate%20%7Bbackground%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7Dtag%2Enew%20%7Bbackground%3A%20var%28%2D%2Dcolor%2Dgreen%29%3B%7Dtag%2Eupdate%3Aafter%20%7Bcontent%3A%20%27update%27%3B%7Dtag%2Enew%3Aafter%20%7Bcontent%3A%20%27new%27%3B%7Dbutton%20%7Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3Bcolor%3A%20white%3Bborder%3A%20none%3Bcursor%3A%20pointer%3Bline%2Dheight%3A%202rem%3Bfont%2Dsize%3A%201%2E2rem%3Bmargin%3A%200%2E75rem%200%3Boverflow%3A%20visible%3Bpadding%3A%200%2E75rem%201%2E5rem%3Bborder%2Dradius%3A%201rem%3Btransition%3A%20background%2Dcolor%200%2E5%3Bwhite%2Dspace%3A%20nowrap%3B%7D%2Enode%2Dicon%20%7Bposition%3A%20relative%3Bbottom%3A%201%2E3px%3Bpadding%2Dright%3A%203px%3Bheight%3A%2018px%3B%7D%2Evideo%2Dyoutube%20%7Bbackground%2Dcolor%3A%20%23000%3Bposition%3A%20relative%3Bcursor%3A%20pointer%3B%7D%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%20%7Bpointer%2Devents%3A%20none%3Bwidth%3A%2090px%3Bheight%3A%2060px%3Bbackground%2Dcolor%3A%20%23333%3Bbox%2Dshadow%3A%200%200%2018px%20rgba%280%2C%200%2C%200%2C%200%2E6%29%3Bz%2Dindex%3A%201%3Bopacity%3A%200%2E8%3Bborder%2Dradius%3A%206px%3B%7D%2Eplaybutton%3Abefore%20%7Bcontent%3A%20%27%27%3Bborder%2Dstyle%3A%20solid%3Bborder%2Dwidth%3A%2015px%200%2015px%2026px%3Bborder%2Dcolor%3A%20transparent%20transparent%20transparent%20%23fff%3B%7D%2Evideo%2Dyoutube%20%3E%20img%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%20%7Bcursor%3A%20pointer%3B%7D%2Evideo%2Dyoutube%20%3E%20img%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%3Abefore%20%7Bposition%3A%20absolute%3B%7D%2Eplaybutton%2C%2Eplaybutton%3Abefore%20%7Btop%3A%2050%25%3Bleft%3A%2050%25%3Btransform%3A%20translate3d%28%2D50%25%2C%20%2D50%25%2C%200%29%3B%7D" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="player-room-feedback">Player Room Feedback</h1>
<p>In this lesson, weâ€™ll cover room mouse hover feedback to see where they give move commands to the selected units. In the example, you can see the big room wrapped in a yellow box. Each room will get a yellow box for player visual feedback.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAF8BAMAAACnK3v4AAAAJFBMVEUnJzb//+tNpv9+fo//tXAsN0bjaVb8/uxJWHC70dpHleOVmZTfZdNGAAAAEGNhTnYAAAQAAAACfQAAAAAAAAAAT4NcCAAABHNJREFUeNrt3E9LG0EYB+C9CLmmh0rpqXNSTwUp+AGk54AEEm+Fknt6Cd4kUmhzi1DoWRC89htWTW3VbdfsjNvsn+d3NOxAHje77+7MvNn+E8mkKPjw4cOHDx8+fPjw4cOHDx8+wYcPHz55zPdueJ0zfHF8Bzd6w8EZvii+t7d8wyN8UXzDX8GHDx8+fIRK8j2s/QiV5rtf+xEqzXe/9iNUnm+IDx8+fPikHN8IH76N8SmbU/iOPLR5ZYAPHz5Zh+9zrmjBh+9/8R3kXzXjW59v/8tfZsnxrc1niRA+fPjw4cOHDx8+wYcPHz7Bhw8fPnz4RETErQMfPnyCDx8+fIIPHz58+PDhw4cPHz58m+HTuzSFT+/SJD69S5P47OfFhw8fPnyRfHqXJvLpXZrEp3dpGp/+ffjw4cMnJfk038S3OT5lcwqf3qVeGeDDh0/W4tN8E9/m+PQuTeLTuzSNzxIhfPjw4cOHDx8+fIIPHz58gq8TfIcVBx8+fN3ke4ZsLUKFaT1fpXqt5+uFivkq/ddsnO8YX0rmYXfa/1devOkX5qnPb75iyvEFn2+f14LvIiwbyTc7qQVfCNN+I8++Gb6U8evC128mXx8fPnz48OFrNN/3m+WVX/HF8b1eLe79gS+K79uKb4wviu9uZT6+KL67bTX48OHD10W+B7UfvvJ892o/fBF8Y3wpfCN8KXxDfPjw4XPrwKdwUTZ7aPPKAB8+fPhMFeEzUWma3CKNhvM9+9fDhw8fPnz48OHDhw8fPnz48OHDhw8fvobx6eOCz4/XtQ8fPnz48OHDhw8fPnz48OHDhw9fxXwvJ5OP+PC1gC+3dB1fifHzGyfwlRg/v20HX4nx85vG8JUYP79lER8+fPi6w/en9sMXxXdX++GL4xvjS+Eb4UvhG+LrBN8nfPjwNfPWUU++Mb5OlM215GvOQ1sN+Zr0ygAfPnz4ujhVVCO+Jk5U1oividPkNeJr4iKNOvHlgg9fYTq+PBIfPnz4Wss3xRefi7DEF5952J3ii85x1X1c2s3Xw5eUBb6UbC3wpWRQ4diH7efL8NWYb4kvha/dDejw1Zyvqh/vCb4Uvm18Sc/U+BL5Uq6cVwN8SX74knKKLyWX+KKP3z4PO/iij5+dhD188WffLAR88cfjS+Lr48OHD18z+d5PJh/w4cOHDx8+fPjw4cOHDx8+fPjw4cNXE75P+PDhw4cPHz58+PDhw4cPHz58+PDhw7fi6/rySHz48OFrLd8UXwrfEl8KX2X9AbvBV2EfF3z4ivmqTCi6sOJ7mm8XX0LmxacfvuL0ik+/33yTR8F3m2y+3l3mMd/qr/hGrearPvjwbZKvxbeOuvA1tHDBhw8fPnz48OHDhw8fPnz48OHDhw8fPnz48OHDhw8fPnz48OHDh09C9J45fPjw4cOHDx8+fPjw4cOHDx8+fPjw4cOHDx8+fI3ni+wPOMN3nYvY/oCvwh69bB7ZH3B2HnboZcfxDewu6WW9eL5Telm2iNW7YnedrUi/q0H2E4zq0p0JBvq6AAAAAElFTkSuQmCC" /></p>
<p>When the mouse enters the room area space, this rectangle will become visible, and when the mouse exits, it will become invisible.</p>
<h2 id="the-feedback-rectangle">The feedback rectangle</h2>
<p>We take advantage of the rooms being rectangular and use a <em>NinePatchRect</em> node. Conceptually, we stretch a rectangle with fixed borders to cover rooms of different sizes as we require.</p>
<p>Open the <code>Room.tscn</code> scene file and add right click on the root node and select <em>Instance Child Scene</em> from the menu. We want to pick the ready-made feedback scene we saved from <code>UIUnit.tscn</code> scene:</p>
<p><img src="data:image/png;base64,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" /></p>
<p><img src="data:image/png;base64,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" /></p>
<p>To distinguish the feedback rectangle from the background, I picked a light orange from our palette, <code>#ffb570</code> for the <em>Modulate</em> property:</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAABoCAMAAAAdBR/LAAAAbFBMVEVHcEzrVkuWQlMnJzYyPk9XKUsyKUdAI0aGOmTP/3C6YVZaJl5eMVtHO3g9bnDypl48o3C9SIJzJ1xNpv9gYHCP3l1DQ09+fo//5HiwMFxLW6vCwtH/a5dm/+P/kWbjaVb/tbX//+v/tXD/6gA/A+EOAAAAAXRSTlMAQObYZgAAABBjYU52AAABGgAAAGoAAAABAAAAAcNLFDoAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAKxSURBVHja7ZnbUhsxEESdJZJNsEhQbiQhQOL//0eoxTaj0ai9XijKjLpZS4Y3TvVcd7EGWg2PP+NRX5+APgNdA50DfQf6AnQJ9BFocQDMjsb+2d1dgxkECGGY8ejbMYqJDKbOHSNRDIVvunfMUGWZpz90n2OKgiTCiVXJCCeGkk68ojAx+UqnCEZ0jE4uA5PvelAwZJZhg1chYSitCy7qYSitqro0dF+uraS7o8SqxCHy0D6mDCs6xtjFcO2gLcMNnlw72JZhjjGqNUeCerDe/8o+pn5NwBxjFCPuY8QQadrGPZgIlIB+A30F+gv0D+gP0E+gb0A/gAiGYAiGYAiGYAiGYAiGYAiGYAiGYAiGYAiGYAiGYAiGYAiGYAiGYN4bmPMN0luDOQNaAgWgAeiuLchlc9vWB6BfQBnotMD8b+oEwcTqJBibShwfOqZUpGP2YGJ5EMxzKGnPRILRfol0jM4xUdmmbzCxZrKNJDomLs3cSzBmtWYfYzS9kY4501TYx+DON7IqFU1M5HRdV6W6mWEoNToZzkplY8fpWjgmcoOHO19O12pW0mMSHbO0172crkEk0TGNSCKYbl+4oX/+AmgFdAV00xYGs3hjvQRMbnxmgrm5B1q8GzB5h0bfuXMwj0rbo7i7d4yt5A1MMI4DYNIehLhdhVJ4mWMUm8RQMvySOsgxYUpV0vXIZfLVGeagY5KRd0c6jsCEmTkmPX1yyabvHGP7xVXyDXaGmTYSpFUdVP4cE8qwOrLBSx4bvDmzUhKeyR4bvGb+Pcoxgo9fx2whrac1eFl8Gb+5LNdhsmO2aTe/2qLqdKtSOKbzrYLoef/AWel1V5snDyZMr0pVI5P9gZlVlbJZmDw6JswJJTFZ+2rwWjPBhOk6iQVVdptjwtFvCYwlnucNXpiZYzw55gEyN8QG3vU55AAAAABJRU5ErkJggg==" /></p>
<p><img src="data:image/png;base64,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" /></p>
<h2 id="the-code">The code</h2>
<p>With that out of the way, we direct our attention to the code. Open the <code>Room.gd</code> script and add a reference to the <em>Feedback</em> node first:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># ...</span>
<span style="color:#75715e"># onready var collision_shape: CollisionShape2D = $CollisionShape2D</span>
<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> feedback: NinePatchRect <span style="color:#f92672">=</span> <span style="color:#f92672">$</span>Feedback
</pre>
<p>In the <code>setup()</code> function, we calculate the position and size of <code>feedback</code> to outline the entire room:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># ...</span>
<span style="color:#66d9ef">func</span> setup(tilemap: <span style="color:#a6e22e">TileMap</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#75715e"># ...</span>
    <span style="color:#75715e"># _bottom_right = _top_left + size</span>

    <span style="color:#75715e"># A Control node&#39;s pivot is in the node&#39;s top-left, so we have to offset it </span>
    <span style="color:#75715e"># towards the top-left before resizing it.</span>
    feedback<span style="color:#f92672">.</span>rect_position <span style="color:#f92672">-=</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents
    feedback<span style="color:#f92672">.</span>rect_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents
</pre>
<p>We want to change the roomâ€™s visibility and selection state when hovering over it with the mouse.</p>
<p>To do so, we use the <code>mouse_entered</code> and <code>mouse_exited</code> signals and a node group named <code>selected-room</code>.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _ready() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#75715e"># We connect two signals to detect when the mouse hovers over the room.</span>
    <span style="color:#75715e">#</span>
    <span style="color:#75715e"># Instead of connecting to two functions. We connect to `_on_mouse_entered_exited()`</span>
    <span style="color:#75715e"># and send either `true` or `false` as a bound parameter, depending on which signal</span>
    <span style="color:#75715e"># gets triggered.</span>
    <span style="color:#75715e">#</span>
    <span style="color:#75715e"># This trick works well for signals that don&#39;t have an argument in the first place.</span>
    connect(<span style="color:#e6db74">&quot;mouse_entered&quot;</span>, self, <span style="color:#e6db74">&quot;_on_mouse_entered_exited&quot;</span>, [true])
    connect(<span style="color:#e6db74">&quot;mouse_exited&quot;</span>, self, <span style="color:#e6db74">&quot;_on_mouse_entered_exited&quot;</span>, [false])


<span style="color:#66d9ef">func</span> _on_mouse_entered_exited(has_entered: <span style="color:#a6e22e">bool</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#75715e"># We use the emitted parameter to toggle the outline&#39;s visibility.</span>
    feedback<span style="color:#f92672">.</span>visible <span style="color:#f92672">=</span> has_entered

    <span style="color:#75715e"># We also add/remove the room from `selected-room` group as needed. We can then get</span>
    <span style="color:#75715e"># these nodes from other parts of our code based on the assigned group.</span>
    <span style="color:#66d9ef">var</span> group :<span style="color:#f92672">=</span> <span style="color:#e6db74">&quot;selected-room&quot;</span>
    <span style="color:#66d9ef">if</span> has_entered:
        add_to_group(group)
    <span style="color:#66d9ef">elif</span> is_in_group(group):
        remove_from_group(group)
</pre>
<p><em>Note</em> that I favor connecting signals from code rather than from the editor UI.</p>
<p>Itâ€™s easier to track connections in code since we can search for them in the project with <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>F</kbd>. Also, itâ€™s easier to see the extra parameters we send to the functions that way. In our case, these are <code>true</code> and <code>false</code>, respectively.</p>
<p>By the way, this trick of connecting different signals to the same function works because we distinguish between them with the extra <code>true</code> and <code>false</code> arguments. But we could use any other type of argument weâ€™d like, say:</p>
<pre style="color:#f8f8f2;background-color:#272822">connect(<span style="color:#e6db74">&quot;mouse_entered&quot;</span>, self, <span style="color:#e6db74">&quot;_on_mouse_entered_exited&quot;</span>, [<span style="color:#e6db74">&quot;entered&quot;</span>])
</pre>
<p>But I think that <code>_on_mouse_entered_exited(has_entered)</code> reads nicely.</p>
<p>If you run the game now, you should see an outline when your mouse cursor is over a room.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAF8BAMAAACnK3v4AAAAJFBMVEUnJzb//+tNpv9+fo//tXAsN0bjaVb8/uxJWHC70dpHleOVmZTfZdNGAAAAEGNhTnYAAAQAAAACfQAAAAAAAAAAT4NcCAAABHNJREFUeNrt3E9LG0EYB+C9CLmmh0rpqXNSTwUp+AGk54AEEm+Fknt6Cd4kUmhzi1DoWRC89htWTW3VbdfsjNvsn+d3NOxAHje77+7MvNn+E8mkKPjw4cOHDx8+fPjw4cOHDx8+wYcPHz55zPdueJ0zfHF8Bzd6w8EZvii+t7d8wyN8UXzDX8GHDx8+fIRK8j2s/QiV5rtf+xEqzXe/9iNUnm+IDx8+fPikHN8IH76N8SmbU/iOPLR5ZYAPHz5Zh+9zrmjBh+9/8R3kXzXjW59v/8tfZsnxrc1niRA+fPjw4cOHDx8+wYcPHz7Bhw8fPnz4RETErQMfPnyCDx8+fIIPHz58+PDhw4cPHz58m+HTuzSFT+/SJD69S5P47OfFhw8fPnyRfHqXJvLpXZrEp3dpGp/+ffjw4cMnJfk038S3OT5lcwqf3qVeGeDDh0/W4tN8E9/m+PQuTeLTuzSNzxIhfPjw4cOHDx8+fIIPHz58gq8TfIcVBx8+fN3ke4ZsLUKFaT1fpXqt5+uFivkq/ddsnO8YX0rmYXfa/1devOkX5qnPb75iyvEFn2+f14LvIiwbyTc7qQVfCNN+I8++Gb6U8evC128mXx8fPnz48OFrNN/3m+WVX/HF8b1eLe79gS+K79uKb4wviu9uZT6+KL67bTX48OHD10W+B7UfvvJ892o/fBF8Y3wpfCN8KXxDfPjw4XPrwKdwUTZ7aPPKAB8+fPhMFeEzUWma3CKNhvM9+9fDhw8fPnz48OHDhw8fPnz48OHDhw8fvobx6eOCz4/XtQ8fPnz48OHDhw8fPnz48OHDhw9fxXwvJ5OP+PC1gC+3dB1fifHzGyfwlRg/v20HX4nx85vG8JUYP79lER8+fPi6w/en9sMXxXdX++GL4xvjS+Eb4UvhG+LrBN8nfPjwNfPWUU++Mb5OlM215GvOQ1sN+Zr0ygAfPnz4ujhVVCO+Jk5U1oividPkNeJr4iKNOvHlgg9fYTq+PBIfPnz4Wss3xRefi7DEF5952J3ii85x1X1c2s3Xw5eUBb6UbC3wpWRQ4diH7efL8NWYb4kvha/dDejw1Zyvqh/vCb4Uvm18Sc/U+BL5Uq6cVwN8SX74knKKLyWX+KKP3z4PO/iij5+dhD188WffLAR88cfjS+Lr48OHD18z+d5PJh/w4cOHDx8+fPjw4cOHDx8+fPjw4cNXE75P+PDhw4cPHz58+PDhw4cPHz58+PDhw7fi6/rySHz48OFrLd8UXwrfEl8KX2X9AbvBV2EfF3z4ivmqTCi6sOJ7mm8XX0LmxacfvuL0ik+/33yTR8F3m2y+3l3mMd/qr/hGrearPvjwbZKvxbeOuvA1tHDBhw8fPnz48OHDhw8fPnz48OHDhw8fPnz48OHDhw8fPnz48OHDh09C9J45fPjw4cOHDx8+fPjw4cOHDx8+fPjw4cOHDx8+fI3ni+wPOMN3nYvY/oCvwh69bB7ZH3B2HnboZcfxDewu6WW9eL5Telm2iNW7YnedrUi/q0H2E4zq0p0JBvq6AAAAAElFTkSuQmCC" /></p>
<h2 id="conclusion">Conclusion</h2>
<p>This concludes our detour to implementing player room mouse hover feedback.</p>
<p>We covered a use case for <em>NinePatchRect</em> for visual feedback. Itâ€™s the same approach as handling the player unit UI, but we set the size and position from code.</p>
<p>In the next lesson, weâ€™ll cover unit movement. Units will move around the ship without overlapping on the destination tile. Theyâ€™ll also traverse the smallest distance when rooms are inter-connected with more than one door. Weâ€™ll cover all this after we take care of the player UI.</p>
<h2 id="code-reference">Code reference</h2>
<p><code>res://TacticalSpaceCombat/Ship/Rooms/Room.gd</code>:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">tool</span>
class_name <span style="color:#a6e22e">Room</span>
<span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Area2D</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> size :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ONE <span style="color:#66d9ef">setget</span> set_size

<span style="color:#66d9ef">var</span> _area :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">var</span> _top_left :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ZERO
<span style="color:#66d9ef">var</span> _bottom_right :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ZERO

<span style="color:#66d9ef">var</span> _iter_index :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

<span style="color:#66d9ef">var</span> _tilemap: <span style="color:#a6e22e">TileMap</span> <span style="color:#f92672">=</span> null

<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> collision_shape: <span style="color:#a6e22e">CollisionShape2D</span> <span style="color:#f92672">=</span> <span style="color:#f92672">$</span><span style="color:#a6e22e">CollisionShape2D</span>
<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> feedback: NinePatchRect <span style="color:#f92672">=</span> <span style="color:#f92672">$</span>Feedback


<span style="color:#66d9ef">func</span> setup(tilemap: <span style="color:#a6e22e">TileMap</span>) <span style="color:#f92672">-&gt;</span> void:
    _tilemap <span style="color:#f92672">=</span> tilemap
    _setup_extents()

    _area <span style="color:#f92672">=</span> size<span style="color:#f92672">.</span>x <span style="color:#f92672">*</span> size<span style="color:#f92672">.</span>y
    _top_left <span style="color:#f92672">=</span> _tilemap<span style="color:#f92672">.</span>world_to_map(position <span style="color:#f92672">-</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents)
    _bottom_right <span style="color:#f92672">=</span> _top_left <span style="color:#f92672">+</span> size

    feedback<span style="color:#f92672">.</span>rect_position <span style="color:#f92672">-=</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents
    feedback<span style="color:#f92672">.</span>rect_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents


<span style="color:#66d9ef">func</span> _setup_extents() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> _tilemap <span style="color:#f92672">!=</span> null:
        collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span> <span style="color:#f92672">*</span> _tilemap<span style="color:#f92672">.</span>map_to_world(size)


<span style="color:#66d9ef">func</span> _ready() <span style="color:#f92672">-&gt;</span> void:
    connect(<span style="color:#e6db74">&quot;mouse_entered&quot;</span>, self, <span style="color:#e6db74">&quot;_on_mouse_entered_exited&quot;</span>, [true])
    connect(<span style="color:#e6db74">&quot;mouse_exited&quot;</span>, self, <span style="color:#e6db74">&quot;_on_mouse_entered_exited&quot;</span>, [false])


<span style="color:#66d9ef">func</span> _on_mouse_entered_exited(has_entered: <span style="color:#a6e22e">bool</span>) <span style="color:#f92672">-&gt;</span> void:
    feedback<span style="color:#f92672">.</span>visible <span style="color:#f92672">=</span> has_entered
    <span style="color:#66d9ef">var</span> group :<span style="color:#f92672">=</span> <span style="color:#e6db74">&quot;selected-room&quot;</span>
    <span style="color:#66d9ef">if</span> has_entered:
        add_to_group(group)
    <span style="color:#66d9ef">elif</span> is_in_group(group):
        remove_from_group(group)


<span style="color:#66d9ef">func</span> set_size(value: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">for</span> axis <span style="color:#f92672">in</span> [<span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>AXIS_X, <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>AXIS_Y]:
        size[axis] <span style="color:#f92672">=</span> max(<span style="color:#ae81ff">1</span>, value[axis])
    _setup_extents()


<span style="color:#66d9ef">func</span> _iter_init(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    _iter_index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">return</span> _iter_is_running()


<span style="color:#66d9ef">func</span> _iter_next(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    _iter_index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">return</span> _iter_is_running()


<span style="color:#66d9ef">func</span> _iter_get(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">var</span> offset :<span style="color:#f92672">=</span> Utils<span style="color:#f92672">.</span>index_to_xy(size<span style="color:#f92672">.</span>x, _iter_index)
    <span style="color:#66d9ef">return</span> _top_left <span style="color:#f92672">+</span> offset


<span style="color:#66d9ef">func</span> _iter_is_running() <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    <span style="color:#66d9ef">return</span> _iter_index <span style="color:#f92672">&lt;</span> _area
</pre>
</body>
</html>
