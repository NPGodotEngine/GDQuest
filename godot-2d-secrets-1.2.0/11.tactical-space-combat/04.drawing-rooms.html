<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>&#39;drawing rooms&#39;</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="data:text/css,%3Aroot%20%7B%2D%2Dcolor%2Dcaption%3A%20grey%3B%2D%2Dcolor%2Dblue%3A%20%2326bfe3%3B%2D%2Dcolor%2Dgreen%3A%20%2302e180%3B%2D%2Dcolor%2Dorange%3A%20%23f2971a%3B%2D%2Dcolor%2Dpink%3A%20%23e3266f%3B%2D%2Dcolor%2Dbg%3A%20%23fff%3B%2D%2Dcolor%2Dbg%2Dalt%3A%20%23f5f5f5%3B%2D%2Dcolor%2Dtext%2Dheader%3A%20%23fff%3B%2D%2Dcolor%2Dtext%2Dbody%3A%20%2395989a%3B%2D%2Dpadding%3A%2020px%3B%2D%2Dpadding%2Dinv%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dpadding%29%29%3B%2D%2Dfonts%3A%20%27Open%20Sans%27%2C%20%2Dapple%2Dsystem%2C%20system%2Dui%2C%20%27Segoe%20UI%27%2C%20%27Roboto%27%2C%27Helvetica%20Neue%27%2C%20Arial%2C%20sans%2Dserif%3B%2D%2Dfont%2Dsize%3A%201%2E1rem%3B%7Dhtml%20%7Bfont%2Dsize%3A%20100%25%3B%7Dbody%20%7Bcolor%3A%20%23444%3Bfont%2Dfamily%3A%20var%28%2D%2Dfonts%29%3Bfont%2Dsize%3A%20var%28%2D%2Dfont%2Dsize%29%3Bline%2Dheight%3A%201%2E7%3Bpadding%3A%201em%3Bmargin%3A%20auto%3Bmax%2Dwidth%3A%20800px%3Bbackground%3A%20%23fefefe%3B%7Da%20%7Bcolor%3A%20%230645ad%3Btext%2Ddecoration%3A%20none%3B%7Da%3Avisited%20%7Bcolor%3A%20%230b0080%3B%7Da%3Ahover%20%7Bcolor%3A%20%2306e%3B%7Da%3Aactive%20%7Bcolor%3A%20%23faa700%3B%7Da%3Afocus%20%7Boutline%3A%20thin%20dotted%3B%7Da%3A%3Aselection%20%7Bbackground%3A%20rgba%28255%2C%20255%2C%200%2C%200%2E3%29%3Bcolor%3A%20%230645ad%3B%7D%2A%3A%3Aselection%20%7Bbackground%3A%20rgba%28255%2C%20255%2C%200%2C%200%2E3%29%3Bcolor%3A%20%23000%3B%7Dp%20%7Bmargin%3A%201em%200%3B%7D%2Ecaption%20%7Btext%2Dalign%3A%20center%3Bcolor%3A%20var%28%2D%2Dcolor%2Dcaption%29%3Bfont%2Dstyle%3A%20italic%3B%7D%2Enote%2C%2Etips%2C%2Ewarning%20%7Bdisplay%3A%20block%3Bwidth%3A%20calc%28100%25%20%2D%20var%28%2D%2Dpadding%29%20%2A%202%29%3Bpadding%3A%200%20var%28%2D%2Dpadding%29%3Bpadding%2Dbottom%3A%20var%28%2D%2Dpadding%29%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dbg%2Dalt%29%3B%7D%2Enote%3Abefore%2C%2Etips%3Abefore%2C%2Ewarning%3Abefore%20%7Bdisplay%3A%20block%3Bmargin%3A%200%20var%28%2D%2Dpadding%2Dinv%29%2010px%20var%28%2D%2Dpadding%2Dinv%29%3Bpadding%2Dleft%3A%20var%28%2D%2Dpadding%29%3Bfont%2Dstyle%3A%20bold%3Bcolor%3A%20white%3B%7D%2Enote%3Abefore%20%7Bcontent%3A%20%27Note%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7D%2Etips%3Abefore%20%7Bcontent%3A%20%27Tips%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dpink%29%3B%7D%2Ewarning%3Abefore%20%7Bcontent%3A%20%27Warning%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dorange%29%3B%7Dimg%20%7Bmax%2Dwidth%3A%20100%25%3B%7Dh1%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%20%7Bcolor%3A%20%23111%3Bline%2Dheight%3A%20125%25%3Bmargin%2Dtop%3A%202em%3Bfont%2Dweight%3A%20normal%3B%7Dh4%2Ch5%2Ch6%20%7Bfont%2Dweight%3A%20bold%3B%7Dh1%20%7Bfont%2Dsize%3A%202%2E5em%3B%7Dh2%20%7Bfont%2Dsize%3A%202em%3B%7Dh3%20%7Bfont%2Dsize%3A%201%2E5em%3B%7Dh4%20%7Bfont%2Dsize%3A%201%2E2em%3B%7Dblockquote%20%7Bcolor%3A%20%23666666%3Bmargin%3A%200%3Bpadding%2Dleft%3A%203em%3Bborder%2Dleft%3A%200%2E5em%20%23eee%20solid%3B%7Dhr%20%7Bdisplay%3A%20block%3Bheight%3A%202px%3Bborder%3A%200%3Bborder%2Dtop%3A%201px%20solid%20%23aaa%3Bborder%2Dbottom%3A%201px%20solid%20%23eee%3Bmargin%3A%201em%200%3Bpadding%3A%200%3B%7Dpre%2Ccode%2Ckbd%2Csamp%20%7Bcolor%3A%20%230084b8%3Bfont%2Dfamily%3A%20monospace%2C%20monospace%3B%7Dpre%20%7Bpadding%3A%201em%3Bfont%2Dsize%3A%2014px%3Bwhite%2Dspace%3A%20pre%2Dwrap%3Bword%2Dwrap%3A%20break%2Dword%3B%7Dcode%20%7Bwhite%2Dspace%3A%20pre%2Dwrap%3B%7Db%2Cstrong%20%7Bfont%2Dweight%3A%20bold%3B%7Ddfn%20%7Bfont%2Dstyle%3A%20italic%3Bcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7Dins%20%7Bbackground%3A%20%23ff9%3Bcolor%3A%20%23000%3Btext%2Ddecoration%3A%20none%3B%7Dul%2Col%20%7Bmargin%3A%201em%200%3Bpadding%3A%200%200%200%202em%3B%7Dli%20p%3Alast%2Dchild%20%7Bmargin%2Dbottom%3A%200%3B%7Dul%20ul%2Col%20ol%20%7Bmargin%3A%200%2E3em%200%3B%7Ddl%20%7Bmargin%2Dbottom%3A%201em%3B%7Ddt%20%7Bfont%2Dweight%3A%20bold%3Bmargin%2Dbottom%3A%200%2E8em%3B%7Ddd%20%7Bmargin%3A%200%200%200%2E8em%202em%3B%7Ddd%3Alast%2Dchild%20%7Bmargin%2Dbottom%3A%200%3B%7Dimg%20%7Bborder%3A%200%3B%2Dms%2Dinterpolation%2Dmode%3A%20bicubic%3Bvertical%2Dalign%3A%20middle%3B%7Dfigure%20%7Bdisplay%3A%20block%3Btext%2Dalign%3A%20center%3Bmargin%3A%201em%200%3B%7Dfigure%20img%20%7Bborder%3A%20none%3Bmargin%3A%200%20auto%3B%7Dfigcaption%20%7Bfont%2Dsize%3A%200%2E8em%3Bfont%2Dstyle%3A%20italic%3Bmargin%3A%200%200%200%2E8em%3B%7D%2Eauthor%20%7Bfont%2Dsize%3A%201%2E2em%3Btext%2Dalign%3A%20center%3B%7Dtag%20%7Bmin%2Dwidth%3A%203%2E2em%3Btext%2Dalign%3A%20center%3Bborder%2Dradius%3A%208px%3Bpadding%3A%200%204px%3Bmargin%2Dbottom%3A%200%3Bmargin%2Dtop%3A%204px%3Bmargin%2Dright%3A%200%2E2em%3Bdisplay%3A%20inline%2Dblock%3Bcolor%3A%20white%3B%7Dtag%2Eupdate%20%7Bbackground%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7Dtag%2Enew%20%7Bbackground%3A%20var%28%2D%2Dcolor%2Dgreen%29%3B%7Dtag%2Eupdate%3Aafter%20%7Bcontent%3A%20%27update%27%3B%7Dtag%2Enew%3Aafter%20%7Bcontent%3A%20%27new%27%3B%7Dbutton%20%7Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3Bcolor%3A%20white%3Bborder%3A%20none%3Bcursor%3A%20pointer%3Bline%2Dheight%3A%202rem%3Bfont%2Dsize%3A%201%2E2rem%3Bmargin%3A%200%2E75rem%200%3Boverflow%3A%20visible%3Bpadding%3A%200%2E75rem%201%2E5rem%3Bborder%2Dradius%3A%201rem%3Btransition%3A%20background%2Dcolor%200%2E5%3Bwhite%2Dspace%3A%20nowrap%3B%7D%2Enode%2Dicon%20%7Bposition%3A%20relative%3Bbottom%3A%201%2E3px%3Bpadding%2Dright%3A%203px%3Bheight%3A%2018px%3B%7D%2Evideo%2Dyoutube%20%7Bbackground%2Dcolor%3A%20%23000%3Bposition%3A%20relative%3Bcursor%3A%20pointer%3B%7D%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%20%7Bpointer%2Devents%3A%20none%3Bwidth%3A%2090px%3Bheight%3A%2060px%3Bbackground%2Dcolor%3A%20%23333%3Bbox%2Dshadow%3A%200%200%2018px%20rgba%280%2C%200%2C%200%2C%200%2E6%29%3Bz%2Dindex%3A%201%3Bopacity%3A%200%2E8%3Bborder%2Dradius%3A%206px%3B%7D%2Eplaybutton%3Abefore%20%7Bcontent%3A%20%27%27%3Bborder%2Dstyle%3A%20solid%3Bborder%2Dwidth%3A%2015px%200%2015px%2026px%3Bborder%2Dcolor%3A%20transparent%20transparent%20transparent%20%23fff%3B%7D%2Evideo%2Dyoutube%20%3E%20img%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%20%7Bcursor%3A%20pointer%3B%7D%2Evideo%2Dyoutube%20%3E%20img%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%3Abefore%20%7Bposition%3A%20absolute%3B%7D%2Eplaybutton%2C%2Eplaybutton%3Abefore%20%7Btop%3A%2050%25%3Bleft%3A%2050%25%3Btransform%3A%20translate3d%28%2D50%25%2C%20%2D50%25%2C%200%29%3B%7D" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="drawing-rooms">Drawing Rooms</h1>
<p>In this lesson, we’ll continue working on the rooms and draw them:</p>
<ol type="1">
<li>We’ll first implement an iterator on rooms to loop over their grid cells.</li>
<li>Then, we’ll use that iterator to draw the ship’s floor using the <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMSAxdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptLTEyIDN2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0tMTIgM3YyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bS0xMiAzdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptLTEyIDN2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yeiIgZmlsbD0iI2E1YjdmMyIgZmlsbC1vcGFjaXR5PSIuOTg4MjQiLz48L3N2Zz4K" class="node-icon" /><code>TileMap</code> node.</li>
</ol>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgMAAAECBAMAAACRQclcAAAAIVBMVEUeHh7//+tNpv8nJzbjaVZPp/9HlOOn0/U3YZ0wSnFOp/+Bsfv4AAAAAXRSTlPmCY+fKwAAAAlwSFlzAAALEgAACxIB0t1+/AAAArBJREFUeNrt3U+KGkEUB+CBnKAl4NqaRMOshhGCWSZ4gfEImRPoEcYb6Al6I+gpM5M/iwSipru6U1X9vW0jyMfzQUn17928mQ+87m8QIEDwk2DxNeRY0200gk95CoRw2Mci2J0yJTgdYxHk2gQvbRCJYBHer6u/VqjO14XnozBp9flzz8eru20cgo9hVmVJUG3CUxyCh7PfMmWCUbhFgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABgv9JkG8h8EMwCxAgQIAgNkGN4BEBAgQIECBAgKB7guVyiQABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAcLZGYYIAAYJcCGoEk6ET5LtGLhpBtssE4xF0vFIyC4Idgm7Xy85yIOh4yfA6B4Iua3GhDQZAMH++Ww+d4EIbDIFg/pz+y/tdV5f5CB9yIejsDLKJsGs6c4JxhDbInCBGG+ROMG4zSKbbEgiqTRuDw74EglEbgtOxN4I6UYJw6I0g0b9nx6vXYTpogpdB8jR0gu9nDAQIECBAUAZBqyscCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAYLKFQsECBAkRVAjmAydIN18hN4I0s1H6I0g3XyE/gh2CJLNR+iPINl8hB4Juh22s6ETXJuP8Hb5e30uiGBx3c/l3R8EX369/F8AwZX5CEUTPCBAcOUxrORx2OIkigABgrIIagSPCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQPAPBK5hu4zfPB+htzVyXVfjfITxKmzLIGiRjzCdF0LQPB/hWApB43yE6b4Ugqb5CP0tGU68ECBAgADBD4JvDL+XBwgvNEcAAAAASUVORK5CYII=" /></p>
<p>That’ll give us a base to start coding player interactions in the next part.</p>
<h2 id="coding-an-iterator-to-loop-over-room-cells">Coding an iterator to loop over room cells</h2>
<p>Open the <code>Room.tscn</code> scene we created in chapter 3.</p>
<p><img src="data:image/png;base64,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" /></p>
<p><em>Note</em> you can quickly search for scenes to open with the <em>Quick Open Scene</em> dialogue. To open it, press <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>O</kbd>.</p>
<p><img src="data:image/png;base64,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" /></p>
<p>We’ll use the <em>Room</em> node’s collision shape to detect where to draw tiles for the floor.</p>
<p>Here, we are looking to code a <em>Room</em> class that works as a custom iterator. Custom iterators allow us to use objects with a for loop.</p>
<p>With this all done, we’ll be able to traverse the room cell positions like so:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">for</span> cell <span style="color:#f92672">in</span> room:
  <span style="color:#75715e"># do something with `cell`, such as assign tiles to the given coordinates.</span>
</pre>
<p>Open the <code>Room.gd</code> script attached to the root node. We start by adding some properties to start and end our iterations:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e">## Room area in _TileMap_ cells =`size.x * size.y`.</span>
<span style="color:#66d9ef">var</span> _area :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

<span style="color:#75715e">## Positions in `TileMap` coordinates for the top-left and bottom-right corners </span>
<span style="color:#75715e">## of the room.</span>
<span style="color:#66d9ef">var</span> _top_left :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ZERO
<span style="color:#66d9ef">var</span> _bottom_right :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ZERO

<span style="color:#75715e">## We&#39;ll keep track of our iteration index with this property.</span>
<span style="color:#66d9ef">var</span> _iter_index :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</pre>
<p>Next, we update the <code>setup()</code> function:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e">## Initializes the room&#39;s properties in the `tilemap`&#39;s coordinates.</span>
<span style="color:#66d9ef">func</span> setup(tilemap: <span style="color:#a6e22e">TileMap</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#75715e"># ...</span>
    <span style="color:#75715e"># _setup_extents()</span>
    
    _area <span style="color:#f92672">=</span> size<span style="color:#f92672">.</span>x <span style="color:#f92672">*</span> size<span style="color:#f92672">.</span>y
    
    <span style="color:#75715e"># With the room&#39;s size, we can calculate the coordinates of its top-left and </span>
    <span style="color:#75715e"># bottom-right corners.</span>
    _top_left <span style="color:#f92672">=</span> _tilemap<span style="color:#f92672">.</span>world_to_map(position <span style="color:#f92672">-</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents)
    _bottom_right <span style="color:#f92672">=</span> _top_left <span style="color:#f92672">+</span> size
</pre>
<p>We place the rooms relative to the ship to create areas where the units can move. The <code>_top_left</code> and <code>_bottom_right</code> properties store these relative positions for each room, in <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMSAxdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptLTEyIDN2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0tMTIgM3YyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bTMgMHYyaDJ2LTJ6bS0xMiAzdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptMyAwdjJoMnYtMnptLTEyIDN2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yem0zIDB2Mmgydi0yeiIgZmlsbD0iI2E1YjdmMyIgZmlsbC1vcGFjaXR5PSIuOTg4MjQiLz48L3N2Zz4K" class="node-icon" /><code>TileMap</code> coordinates.</p>
<h2 id="adding-a-utility-library-script">Adding a utility library script</h2>
<p>Before moving on to the ship code, create a new script named <code>Utils</code> at <code>res://TacticalSpaceCombat/Utils.gd</code>.</p>
<p>It’s a library script to define some functions to convert 2D coordinates to a number and vice versa.</p>
<p>We need these functions because iterators work with an incrementing number. We want to use that increasing number to return a cell coordinate within our room when running it through a for loop.</p>
<p>You will see how we use the code below in a moment.</p>
<pre style="color:#f8f8f2;background-color:#272822">class_name Utils

<span style="color:#75715e">## Converts `offset` coordinates to an integer index.</span>
<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> xy_to_index(width: <span style="color:#a6e22e">int</span>, offset: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">int</span>:
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">int</span>(offset<span style="color:#f92672">.</span>x <span style="color:#f92672">+</span> width <span style="color:#f92672">*</span> offset<span style="color:#f92672">.</span>y)

<span style="color:#75715e">## Converts an integer `index` to `Vector2(x, y)` coordinates.</span>
<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> index_to_xy(width: <span style="color:#a6e22e">int</span>, index: <span style="color:#a6e22e">int</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Vector2</span>(index <span style="color:#f92672">%</span> width, index <span style="color:#f92672">/</span> width)
</pre>
<p>Using the <code>class_name</code> keyword gives us global access to this class’s constants and static functions.</p>
<p>Static functions work similarly to class methods in other languages: they can’t access any member variable but are accessible directly from the class.</p>
<h2 id="coding-the-rooms-iterator-functions">Coding the room’s iterator functions</h2>
<p>Let’s head back to the <code>Room.gd</code> script and use our newly added <code>Utils</code> class.</p>
<p>We need to define three virtual methods to implement Godot’s iterator protocol:</p>
<ul>
<li><code>_iter_init()</code> initialises the iterators state. Typically, it sets the <code>_inter_index</code> to its starting value and returns <code>true</code> if the iterator should keep running.</li>
<li><code>_iter_next()</code> increments the iterator and returns <code>true</code> if the iterator is still running.</li>
<li><code>_iter_get()</code> returns the iterator’s value at the current step.</li>
</ul>
<p>To minimize duplicated code, we define an extra function, <code>_iter_is_running()</code>, which returns true if the iterator should keep running.</p>
<p>Add the following functions to the script.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># The `arg` parameter is undocumented in the official manual, but we don&#39;t</span>
<span style="color:#75715e"># need it for this iterator.</span>
<span style="color:#66d9ef">func</span> _iter_init(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    _iter_index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">return</span> _iter_is_running()


<span style="color:#75715e"># Increments the iterator.</span>
<span style="color:#66d9ef">func</span> _iter_next(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    _iter_index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">return</span> _iter_is_running()


<span style="color:#75715e"># Calculates and returns the iterator&#39;s current value.</span>
<span style="color:#66d9ef">func</span> _iter_get(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#75715e"># Our iterator works with an index which we convert to a cell coordinate </span>
    <span style="color:#75715e"># inside our room. This is where we make use of our new `Utils` class.</span>
    <span style="color:#66d9ef">var</span> offset :<span style="color:#f92672">=</span> Utils<span style="color:#f92672">.</span>index_to_xy(size<span style="color:#f92672">.</span>x, _iter_index)
    <span style="color:#66d9ef">return</span> _top_left <span style="color:#f92672">+</span> offset


<span style="color:#75715e"># As we need to check whether the iterator should keep running in two places, </span>
<span style="color:#75715e"># we put that expression inside a function.</span>
<span style="color:#66d9ef">func</span> _iter_is_running() <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    <span style="color:#66d9ef">return</span> _iter_index <span style="color:#f92672">&lt;</span> _area
</pre>
<p>Our implementation runs through the room’s cell indices, starting with <code>0</code> and going until the <code>_iter_index</code> equals the value of the <code>_area</code> variable.</p>
<p>For any 2D rectangle, we convert the one dimensional indices of our cells into <img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyIiB2aWV3Qm94PSIwIDAgMTYgMTIiIHdpZHRoPSIxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIgMnYyaDFhMSAxIDAgMCAxIDEgMSAxIDEgMCAwIDEgLTEgMSAyIDIgMCAwIDAgLTEuNzMyNCAxIDIgMiAwIDAgMCAtLjI2NTYyIDFoLS4wMDE5NTN2Mmg1di0yaC0zYTMgMyAwIDAgMCAyLjU5NzctMS41IDMgMyAwIDAgMCAwLTMgMyAzIDAgMCAwIC0yLjU5NzctMS41em0tMTEgMnY2aDJhMyAzIDAgMCAwIDMtM3YtM2gtMnYzYTEgMSAwIDAgMSAtMSAxdi00em01IDNhMyAzIDAgMCAwIDMgM2gxdi0yaC0xYTEgMSAwIDAgMSAtMS0xIDEgMSAwIDAgMSAxLTFoMXYtMmgtMWEzIDMgMCAwIDAgLTMgM3oiIGZpbGw9IiNiZDkxZjEiLz48cGF0aCBkPSJtMTIgMnYyaDFhMSAxIDAgMCAxIDEgMSAxIDEgMCAwIDEgLTEgMSAyIDIgMCAwIDAgLTEuNzMyNCAxIDIgMiAwIDAgMCAtLjI2NTYyIDFoLS4wMDE5NTN2Mmg1di0yaC0zYTMgMyAwIDAgMCAyLjU5NzctMS41IDMgMyAwIDAgMCAwLTMgMyAzIDAgMCAwIC0yLjU5NzctMS41eiIgZmlsbD0iI2ZmZiIgZmlsbC1vcGFjaXR5PSIuMzkyMTYiLz48L3N2Zz4K" class="node-icon" /><code>Vector2</code> coordinates. For example:</p>
<pre style="color:#f8f8f2;background-color:#272822"> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span>                            (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>) (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>) (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>)
 <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">--</span> Utils<span style="color:#f92672">.</span>index_to_xy() <span style="color:#f92672">--&gt;</span> (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>) (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>)
</pre>
<p>Where <code>(0, 1)</code> is the <code>Vector2(0, 1)</code> coordinate of that cell. This particular value corresponds to the index <code>3</code> for the shape of our rectangle.</p>
<p>Since the run condition for the iterator is <code>_iter_index &lt; _area</code>, we extract this into the separate <code>_iter_is_running()</code> function. We then use it in both <code>_iter_init()</code> and <code>_iter_next()</code>.</p>
<p><em>Note</em> that <code>_iter_is_running()</code> is an optional function to reduce repetition, and it isn’t required to create the iterator class.</p>
<h2 id="drawing-our-first-ship">Drawing our first ship</h2>
<p>To visualize the work done so far, we need to update the <code>ShipTemplate.gd</code> script file.</p>
<p>Replace the existing <code>_ready()</code> function with the following.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _ready() <span style="color:#f92672">-&gt;</span> void:
    call(<span style="color:#e6db74">&quot;_ready_editor_hint&quot;</span> <span style="color:#66d9ef">if</span> Engine<span style="color:#f92672">.</span>editor_hint <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&quot;_ready_not_editor_hint&quot;</span>)
</pre>
<p>The <code>Object.call()</code> method allows us to execute a function with the given name. We can optionally pass in any number of parameters, e.g.: <code>call(&quot;set&quot;, &quot;position&quot;, Vector2(42.0, 0.0))</code>.</p>
<p>Let’s implement the missing functions:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e">## This is our former `_ready()` function from the previous lesson.</span>
<span style="color:#75715e">## It gets called when running the script in the editor.</span>
<span style="color:#66d9ef">func</span> _ready_editor_hint() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">for</span> room <span style="color:#f92672">in</span> rooms<span style="color:#f92672">.</span>get_children():
        room<span style="color:#f92672">.</span>setup(tilemap)


<span style="color:#75715e">## This gets called when running the script in the game.</span>
<span style="color:#66d9ef">func</span> _ready_not_editor_hint() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">for</span> room <span style="color:#f92672">in</span> rooms<span style="color:#f92672">.</span>get_children():
        room<span style="color:#f92672">.</span>setup(tilemap)

        <span style="color:#75715e"># We can loop over the room as it&#39;s now an iterator.</span>
        <span style="color:#75715e"># `point` takes the coordinates of every cell in the room&#39;s area.</span>
        <span style="color:#66d9ef">for</span> point <span style="color:#f92672">in</span> room:
            <span style="color:#75715e"># We use each point to draw the corresponding cell on the tile.</span>
            tilemap<span style="color:#f92672">.</span>set_cellv(point, <span style="color:#ae81ff">0</span>)
    <span style="color:#75715e"># We call `update_bitmask_region()` to leverage the tileset&#39;s floor auto-tile.</span>
    tilemap<span style="color:#f92672">.</span>update_bitmask_region()
</pre>
<p>At this point, you should be able to open the <em>ShipPlayer</em> scene and run it by pressing <kbd>F6</kbd>. You should see tiles like the following:</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgMAAAECBAMAAACRQclcAAAAIVBMVEUeHh7//+tNpv8nJzbjaVZPp/9HlOOn0/U3YZ0wSnFOp/+Bsfv4AAAAAXRSTlPmCY+fKwAAAAlwSFlzAAALEgAACxIB0t1+/AAAArBJREFUeNrt3U+KGkEUB+CBnKAl4NqaRMOshhGCWSZ4gfEImRPoEcYb6Al6I+gpM5M/iwSipru6U1X9vW0jyMfzQUn17928mQ+87m8QIEDwk2DxNeRY0200gk95CoRw2Mci2J0yJTgdYxHk2gQvbRCJYBHer6u/VqjO14XnozBp9flzz8eru20cgo9hVmVJUG3CUxyCh7PfMmWCUbhFgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABgv9JkG8h8EMwCxAgQIAgNkGN4BEBAgQIECBAgKB7guVyiQABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAcLZGYYIAAYJcCGoEk6ET5LtGLhpBtssE4xF0vFIyC4Idgm7Xy85yIOh4yfA6B4Iua3GhDQZAMH++Ww+d4EIbDIFg/pz+y/tdV5f5CB9yIejsDLKJsGs6c4JxhDbInCBGG+ROMG4zSKbbEgiqTRuDw74EglEbgtOxN4I6UYJw6I0g0b9nx6vXYTpogpdB8jR0gu9nDAQIECBAUAZBqyscCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAYLKFQsECBAkRVAjmAydIN18hN4I0s1H6I0g3XyE/gh2CJLNR+iPINl8hB4Juh22s6ETXJuP8Hb5e30uiGBx3c/l3R8EX369/F8AwZX5CEUTPCBAcOUxrORx2OIkigABgrIIagSPCBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQPAPBK5hu4zfPB+htzVyXVfjfITxKmzLIGiRjzCdF0LQPB/hWApB43yE6b4Ugqb5CP0tGU68ECBAgADBD4JvDL+XBwgvNEcAAAAASUVORK5CYII=" /></p>
<h2 id="conclusion">Conclusion</h2>
<p>In this lesson, we implemented the cosmetics of our rooms and doors - the building blocks for our spaceships.</p>
<p>In the next lesson, we’ll introduce soldier units that we’ll interact with by selecting and deselecting them. Later we’ll code unit movement around the spaceship.</p>
<h2 id="code-reference">Code reference</h2>
<p><code>res://TacticalSpaceCombat/Utils.gd</code>:</p>
<pre style="color:#f8f8f2;background-color:#272822">class_name Utils

<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> xy_to_index(width: <span style="color:#a6e22e">int</span>, offset: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">int</span>:
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">int</span>(offset<span style="color:#f92672">.</span>x <span style="color:#f92672">+</span> width <span style="color:#f92672">*</span> offset<span style="color:#f92672">.</span>y)

<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> index_to_xy(width: <span style="color:#a6e22e">int</span>, index: <span style="color:#a6e22e">int</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Vector2</span>(index <span style="color:#f92672">%</span> width, index <span style="color:#f92672">/</span> width)
</pre>
<p><code>res://TacticalSpaceCombat/Ship/Rooms/Room.gd</code>:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">tool</span>
class_name <span style="color:#a6e22e">Room</span>
<span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Area2D</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> size :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ONE <span style="color:#66d9ef">setget</span> set_size

<span style="color:#66d9ef">var</span> _area :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">var</span> _top_left :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ZERO
<span style="color:#66d9ef">var</span> _bottom_right :<span style="color:#f92672">=</span> <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>ZERO

<span style="color:#66d9ef">var</span> _iter_index :<span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>

<span style="color:#66d9ef">var</span> _tilemap: <span style="color:#a6e22e">TileMap</span> <span style="color:#f92672">=</span> null

<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> collision_shape: <span style="color:#a6e22e">CollisionShape2D</span> <span style="color:#f92672">=</span> <span style="color:#f92672">$</span><span style="color:#a6e22e">CollisionShape2D</span>


<span style="color:#66d9ef">func</span> setup(tilemap: <span style="color:#a6e22e">TileMap</span>) <span style="color:#f92672">-&gt;</span> void:
    _tilemap <span style="color:#f92672">=</span> tilemap
    _setup_extents()

    _area <span style="color:#f92672">=</span> size<span style="color:#f92672">.</span>x <span style="color:#f92672">*</span> size<span style="color:#f92672">.</span>y
    _top_left <span style="color:#f92672">=</span> _tilemap<span style="color:#f92672">.</span>world_to_map(position <span style="color:#f92672">-</span> collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents)
    _bottom_right <span style="color:#f92672">=</span> _top_left <span style="color:#f92672">+</span> size


<span style="color:#66d9ef">func</span> _setup_extents() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> _tilemap <span style="color:#f92672">!=</span> null:
        collision_shape<span style="color:#f92672">.</span>shape<span style="color:#f92672">.</span>extents <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span> <span style="color:#f92672">*</span> _tilemap<span style="color:#f92672">.</span>map_to_world(size)


<span style="color:#66d9ef">func</span> set_size(value: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">for</span> axis <span style="color:#f92672">in</span> [<span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>AXIS_X, <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>AXIS_Y]:
        size[axis] <span style="color:#f92672">=</span> max(<span style="color:#ae81ff">1</span>, value[axis])
    _setup_extents()


<span style="color:#66d9ef">func</span> _iter_init(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    _iter_index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
    <span style="color:#66d9ef">return</span> _iter_is_running()


<span style="color:#66d9ef">func</span> _iter_next(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    _iter_index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">return</span> _iter_is_running()


<span style="color:#66d9ef">func</span> _iter_get(_arg) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">var</span> offset :<span style="color:#f92672">=</span> Utils<span style="color:#f92672">.</span>index_to_xy(size<span style="color:#f92672">.</span>x, _iter_index)
    <span style="color:#66d9ef">return</span> _top_left <span style="color:#f92672">+</span> offset


<span style="color:#66d9ef">func</span> _iter_is_running() <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    <span style="color:#66d9ef">return</span> _iter_index <span style="color:#f92672">&lt;</span> _area
</pre>
<p><code>res://TacticalSpaceCombat/Ship/ShipTemplate.gd</code>:</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">tool</span>
<span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Node2D</span>

<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> tilemap: <span style="color:#a6e22e">TileMap</span> <span style="color:#f92672">=</span> <span style="color:#f92672">$</span><span style="color:#a6e22e">TileMap</span>
<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> rooms: <span style="color:#a6e22e">Node2D</span> <span style="color:#f92672">=</span> <span style="color:#f92672">$</span>Rooms


<span style="color:#66d9ef">func</span> _ready() <span style="color:#f92672">-&gt;</span> void:
    call(<span style="color:#e6db74">&quot;_ready_editor_hint&quot;</span> <span style="color:#66d9ef">if</span> Engine<span style="color:#f92672">.</span>editor_hint <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&quot;_ready_not_editor_hint&quot;</span>)


<span style="color:#66d9ef">func</span> _ready_editor_hint() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">for</span> room <span style="color:#f92672">in</span> rooms<span style="color:#f92672">.</span>get_children():
        room<span style="color:#f92672">.</span>setup(tilemap)


<span style="color:#66d9ef">func</span> _ready_not_editor_hint() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">for</span> room <span style="color:#f92672">in</span> rooms<span style="color:#f92672">.</span>get_children():
        room<span style="color:#f92672">.</span>setup(tilemap)
        <span style="color:#66d9ef">for</span> point <span style="color:#f92672">in</span> room:
            tilemap<span style="color:#f92672">.</span>set_cellv(point, <span style="color:#ae81ff">0</span>)
    tilemap<span style="color:#f92672">.</span>update_bitmask_region()
</pre>
</body>
</html>
