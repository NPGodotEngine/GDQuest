<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>&#39;win and lose conditions&#39;</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="data:text/css,%3Aroot%20%7B%2D%2Dcolor%2Dcaption%3A%20grey%3B%2D%2Dcolor%2Dblue%3A%20%2326bfe3%3B%2D%2Dcolor%2Dgreen%3A%20%2302e180%3B%2D%2Dcolor%2Dorange%3A%20%23f2971a%3B%2D%2Dcolor%2Dpink%3A%20%23e3266f%3B%2D%2Dcolor%2Dbg%3A%20%23fff%3B%2D%2Dcolor%2Dbg%2Dalt%3A%20%23f5f5f5%3B%2D%2Dcolor%2Dtext%2Dheader%3A%20%23fff%3B%2D%2Dcolor%2Dtext%2Dbody%3A%20%2395989a%3B%2D%2Dpadding%3A%2020px%3B%2D%2Dpadding%2Dinv%3A%20calc%28%2D1%20%2A%20var%28%2D%2Dpadding%29%29%3B%2D%2Dfonts%3A%20%27Open%20Sans%27%2C%20%2Dapple%2Dsystem%2C%20system%2Dui%2C%20%27Segoe%20UI%27%2C%20%27Roboto%27%2C%27Helvetica%20Neue%27%2C%20Arial%2C%20sans%2Dserif%3B%2D%2Dfont%2Dsize%3A%201%2E1rem%3B%7Dhtml%20%7Bfont%2Dsize%3A%20100%25%3B%7Dbody%20%7Bcolor%3A%20%23444%3Bfont%2Dfamily%3A%20var%28%2D%2Dfonts%29%3Bfont%2Dsize%3A%20var%28%2D%2Dfont%2Dsize%29%3Bline%2Dheight%3A%201%2E7%3Bpadding%3A%201em%3Bmargin%3A%20auto%3Bmax%2Dwidth%3A%20800px%3Bbackground%3A%20%23fefefe%3B%7Da%20%7Bcolor%3A%20%230645ad%3Btext%2Ddecoration%3A%20none%3B%7Da%3Avisited%20%7Bcolor%3A%20%230b0080%3B%7Da%3Ahover%20%7Bcolor%3A%20%2306e%3B%7Da%3Aactive%20%7Bcolor%3A%20%23faa700%3B%7Da%3Afocus%20%7Boutline%3A%20thin%20dotted%3B%7Da%3A%3Aselection%20%7Bbackground%3A%20rgba%28255%2C%20255%2C%200%2C%200%2E3%29%3Bcolor%3A%20%230645ad%3B%7D%2A%3A%3Aselection%20%7Bbackground%3A%20rgba%28255%2C%20255%2C%200%2C%200%2E3%29%3Bcolor%3A%20%23000%3B%7Dp%20%7Bmargin%3A%201em%200%3B%7D%2Ecaption%20%7Btext%2Dalign%3A%20center%3Bcolor%3A%20var%28%2D%2Dcolor%2Dcaption%29%3Bfont%2Dstyle%3A%20italic%3B%7D%2Enote%2C%2Etips%2C%2Ewarning%20%7Bdisplay%3A%20block%3Bwidth%3A%20calc%28100%25%20%2D%20var%28%2D%2Dpadding%29%20%2A%202%29%3Bpadding%3A%200%20var%28%2D%2Dpadding%29%3Bpadding%2Dbottom%3A%20var%28%2D%2Dpadding%29%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dbg%2Dalt%29%3B%7D%2Enote%3Abefore%2C%2Etips%3Abefore%2C%2Ewarning%3Abefore%20%7Bdisplay%3A%20block%3Bmargin%3A%200%20var%28%2D%2Dpadding%2Dinv%29%2010px%20var%28%2D%2Dpadding%2Dinv%29%3Bpadding%2Dleft%3A%20var%28%2D%2Dpadding%29%3Bfont%2Dstyle%3A%20bold%3Bcolor%3A%20white%3B%7D%2Enote%3Abefore%20%7Bcontent%3A%20%27Note%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7D%2Etips%3Abefore%20%7Bcontent%3A%20%27Tips%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dpink%29%3B%7D%2Ewarning%3Abefore%20%7Bcontent%3A%20%27Warning%27%3Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dorange%29%3B%7Dimg%20%7Bmax%2Dwidth%3A%20100%25%3B%7Dh1%2Ch2%2Ch3%2Ch4%2Ch5%2Ch6%20%7Bcolor%3A%20%23111%3Bline%2Dheight%3A%20125%25%3Bmargin%2Dtop%3A%202em%3Bfont%2Dweight%3A%20normal%3B%7Dh4%2Ch5%2Ch6%20%7Bfont%2Dweight%3A%20bold%3B%7Dh1%20%7Bfont%2Dsize%3A%202%2E5em%3B%7Dh2%20%7Bfont%2Dsize%3A%202em%3B%7Dh3%20%7Bfont%2Dsize%3A%201%2E5em%3B%7Dh4%20%7Bfont%2Dsize%3A%201%2E2em%3B%7Dblockquote%20%7Bcolor%3A%20%23666666%3Bmargin%3A%200%3Bpadding%2Dleft%3A%203em%3Bborder%2Dleft%3A%200%2E5em%20%23eee%20solid%3B%7Dhr%20%7Bdisplay%3A%20block%3Bheight%3A%202px%3Bborder%3A%200%3Bborder%2Dtop%3A%201px%20solid%20%23aaa%3Bborder%2Dbottom%3A%201px%20solid%20%23eee%3Bmargin%3A%201em%200%3Bpadding%3A%200%3B%7Dpre%2Ccode%2Ckbd%2Csamp%20%7Bcolor%3A%20%230084b8%3Bfont%2Dfamily%3A%20monospace%2C%20monospace%3B%7Dpre%20%7Bpadding%3A%201em%3Bfont%2Dsize%3A%2014px%3Bwhite%2Dspace%3A%20pre%2Dwrap%3Bword%2Dwrap%3A%20break%2Dword%3B%7Dcode%20%7Bwhite%2Dspace%3A%20pre%2Dwrap%3B%7Db%2Cstrong%20%7Bfont%2Dweight%3A%20bold%3B%7Ddfn%20%7Bfont%2Dstyle%3A%20italic%3Bcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7Dins%20%7Bbackground%3A%20%23ff9%3Bcolor%3A%20%23000%3Btext%2Ddecoration%3A%20none%3B%7Dul%2Col%20%7Bmargin%3A%201em%200%3Bpadding%3A%200%200%200%202em%3B%7Dli%20p%3Alast%2Dchild%20%7Bmargin%2Dbottom%3A%200%3B%7Dul%20ul%2Col%20ol%20%7Bmargin%3A%200%2E3em%200%3B%7Ddl%20%7Bmargin%2Dbottom%3A%201em%3B%7Ddt%20%7Bfont%2Dweight%3A%20bold%3Bmargin%2Dbottom%3A%200%2E8em%3B%7Ddd%20%7Bmargin%3A%200%200%200%2E8em%202em%3B%7Ddd%3Alast%2Dchild%20%7Bmargin%2Dbottom%3A%200%3B%7Dimg%20%7Bborder%3A%200%3B%2Dms%2Dinterpolation%2Dmode%3A%20bicubic%3Bvertical%2Dalign%3A%20middle%3B%7Dfigure%20%7Bdisplay%3A%20block%3Btext%2Dalign%3A%20center%3Bmargin%3A%201em%200%3B%7Dfigure%20img%20%7Bborder%3A%20none%3Bmargin%3A%200%20auto%3B%7Dfigcaption%20%7Bfont%2Dsize%3A%200%2E8em%3Bfont%2Dstyle%3A%20italic%3Bmargin%3A%200%200%200%2E8em%3B%7D%2Eauthor%20%7Bfont%2Dsize%3A%201%2E2em%3Btext%2Dalign%3A%20center%3B%7Dtag%20%7Bmin%2Dwidth%3A%203%2E2em%3Btext%2Dalign%3A%20center%3Bborder%2Dradius%3A%208px%3Bpadding%3A%200%204px%3Bmargin%2Dbottom%3A%200%3Bmargin%2Dtop%3A%204px%3Bmargin%2Dright%3A%200%2E2em%3Bdisplay%3A%20inline%2Dblock%3Bcolor%3A%20white%3B%7Dtag%2Eupdate%20%7Bbackground%3A%20var%28%2D%2Dcolor%2Dblue%29%3B%7Dtag%2Enew%20%7Bbackground%3A%20var%28%2D%2Dcolor%2Dgreen%29%3B%7Dtag%2Eupdate%3Aafter%20%7Bcontent%3A%20%27update%27%3B%7Dtag%2Enew%3Aafter%20%7Bcontent%3A%20%27new%27%3B%7Dbutton%20%7Bbackground%2Dcolor%3A%20var%28%2D%2Dcolor%2Dblue%29%3Bcolor%3A%20white%3Bborder%3A%20none%3Bcursor%3A%20pointer%3Bline%2Dheight%3A%202rem%3Bfont%2Dsize%3A%201%2E2rem%3Bmargin%3A%200%2E75rem%200%3Boverflow%3A%20visible%3Bpadding%3A%200%2E75rem%201%2E5rem%3Bborder%2Dradius%3A%201rem%3Btransition%3A%20background%2Dcolor%200%2E5%3Bwhite%2Dspace%3A%20nowrap%3B%7D%2Enode%2Dicon%20%7Bposition%3A%20relative%3Bbottom%3A%201%2E3px%3Bpadding%2Dright%3A%203px%3Bheight%3A%2018px%3B%7D%2Evideo%2Dyoutube%20%7Bbackground%2Dcolor%3A%20%23000%3Bposition%3A%20relative%3Bcursor%3A%20pointer%3B%7D%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%20%7Bpointer%2Devents%3A%20none%3Bwidth%3A%2090px%3Bheight%3A%2060px%3Bbackground%2Dcolor%3A%20%23333%3Bbox%2Dshadow%3A%200%200%2018px%20rgba%280%2C%200%2C%200%2C%200%2E6%29%3Bz%2Dindex%3A%201%3Bopacity%3A%200%2E8%3Bborder%2Dradius%3A%206px%3B%7D%2Eplaybutton%3Abefore%20%7Bcontent%3A%20%27%27%3Bborder%2Dstyle%3A%20solid%3Bborder%2Dwidth%3A%2015px%200%2015px%2026px%3Bborder%2Dcolor%3A%20transparent%20transparent%20transparent%20%23fff%3B%7D%2Evideo%2Dyoutube%20%3E%20img%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%20%7Bcursor%3A%20pointer%3B%7D%2Evideo%2Dyoutube%20%3E%20img%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%2C%2Evideo%2Dyoutube%20%3E%20%2Eplaybutton%3Abefore%20%7Bposition%3A%20absolute%3B%7D%2Eplaybutton%2C%2Eplaybutton%3Abefore%20%7Btop%3A%2050%25%3Bleft%3A%2050%25%3Btransform%3A%20translate3d%28%2D50%25%2C%20%2D50%25%2C%200%29%3B%7D" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="win-and-lose-conditions">Win and Lose Conditions</h1>
<p>Players can go through all the events in the level and enemies can find a path to the player’s base. Both forces of our game can reach their respective goal. We can finally set the win and lose conditions.</p>
<p>Connect the <em>Level</em>’s <code>finished</code> signal to the <em>Game</em>’s <code>_on_Level_finished()</code> callback. In this callback, we tell players “hey, you’ve passed this level”.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _on_Level_finished() <span style="color:#f92672">-&gt;</span> void:
    _screen_overlay<span style="color:#f92672">.</span>play_win()
</pre>
<p>As for the lose condition, we need to know when the enemies destroy the <em>PlayerBase</em>. It’s not a good idea to search the level’s children to find the <em>PlayerBase</em> and connect the signal from there. Instead, we defer to the level itself.</p>
<p>Let’s reopen the <em>Level</em> scene. Connect the <em>PlayerBase</em>’s <code>destroyed</code> signal to a callback in the <em>Level</em>. Create a <code>base_destroyed</code> signal and emit it in the <code>_on_PlayerBase_destroyed()</code> callback.</p>
<p><code>Level.gd</code></p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">signal</span> base_destroyed

<span style="color:#66d9ef">func</span> _on_PlayerBase_destroyed():
    emit_signal(<span style="color:#e6db74">&quot;base_destroyed&quot;</span>)
</pre>
<p>Back to the <em>Game</em> scene, connect this signal to the <em>Game</em> script.</p>
<p>Players shouldn’t have any option other than retry when they lose. Let’s hide the <em>StartButton</em> and the <em>UITowerShop</em> to prevent the player from triggering the play mode and spending gold on towers.</p>
<p>We use <code>yield</code> until the lose animation finishes before toggling the interface again.</p>
<p><code>Game.gd</code></p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># Lose condition</span>
<span style="color:#66d9ef">func</span> _on_Level_base_destroyed() <span style="color:#f92672">-&gt;</span> void:
    _start_button<span style="color:#f92672">.</span>hide()
    _tower_shop<span style="color:#f92672">.</span>hide()
    _retry_button<span style="color:#f92672">.</span>show()
    yield(_screen_overlay<span style="color:#f92672">.</span>play_lost(), <span style="color:#e6db74">&quot;completed&quot;</span>)
    _toggle_interface()
</pre>
<p>Create a callback using the <em>RetryButton</em>’s <code>pressed</code> signal. In this callback, we reload the current scene to restart the game.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _on_RetryButton_pressed() <span style="color:#f92672">-&gt;</span> void:
    get_tree()<span style="color:#f92672">.</span>reload_current_scene()
</pre>
<p>With that, we have the complete game flow set up. The only thing left is the game economy.</p>
<h2 id="rewarding-players-with-gold">Rewarding players with gold</h2>
<p>Currently, players can only spend gold. But that’s not sustainable because we only have two enemy waves. Players will run out of gold if we create more content for the game. Selling towers is not enough to keep a flow of resources, so we reward players each time they kill an enemy.</p>
<p>Open the <em>Level</em> scene again. We use it to notify the <em>Game</em> when an <em>Enemy</em> dies and drops some gold.</p>
<p>In the <em>Enemy</em> lesson, we created a <code>died</code> signal. This signal notifies when players kill the enemy and passes <code>gold_earned</code>.</p>
<p>Open the <em>Level</em> script and go to the <code>spawn_wave()</code> method. Before we start the wave, we run through all the enemies inside the wave. and connect the <code>died</code> signal to a callback. This is how the new <code>spawn_wave()</code> method should look like.</p>
<p><code>Level.gd</code></p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> spawn_wave() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">var</span> wave <span style="color:#f92672">=</span> _wave_spawner<span style="color:#f92672">.</span>spawn()
    wave<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&quot;finished&quot;</span>, self, <span style="color:#e6db74">&quot;_on_Wave_finished&quot;</span>)
    _setup_wave_path(wave)

    <span style="color:#66d9ef">for</span> enemy <span style="color:#f92672">in</span> wave<span style="color:#f92672">.</span>get_children():
        enemy<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&quot;died&quot;</span>, self, <span style="color:#e6db74">&quot;_on_Enemy_died&quot;</span>)

    wave<span style="color:#f92672">.</span>start()
</pre>
<p>Before we implement the <code>_on_Enemy_died()</code> callback, create the <code>gold_earned</code> signal. We can use this for other events such as if the player finds a mine for example.</p>
<p>In the <code>_on_Enemy_died()</code> callback, we emit the <code>gold_earned</code> signal. We use the <code>gold_earned</code> from the kill as the second argument.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">signal</span> gold_earned(gold_amount)

<span style="color:#66d9ef">func</span> _on_Enemy_died(gold_earned: <span style="color:#a6e22e">int</span>) <span style="color:#f92672">-&gt;</span> void:
    emit_signal(<span style="color:#e6db74">&quot;gold_earned&quot;</span>, gold_earned)
</pre>
<p>In the <em>Game</em> scene, connect the <em>Level</em>’s <code>gold_earned</code> signal to the game.</p>
<p><img src="data:image/png;base64,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" /></p>
<p>We use the <code>gold_amount</code> to increase the player’s current gold. <code>Game.gd</code></p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _on_Level_gold_earned(gold_amount) <span style="color:#f92672">-&gt;</span> void:
    _player<span style="color:#f92672">.</span>gold <span style="color:#f92672">+=</span> gold_amount
</pre>
<p>Our game has all its core systems in place! You should be able to finish a play-through. Now starts the heavy work: content creation and balancing. But for now, be proud of yourself. You have a complete template to make awesome tower defense games.</p>
<p>Note that we mostly used mouse events, so you can use what you learned here to create a tower defense game for mobile platforms as well.</p>
</body>
</html>
